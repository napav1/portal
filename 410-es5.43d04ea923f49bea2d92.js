!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(self.webpackChunknapa_v11=self.webpackChunknapa_v11||[]).push([[410],{31698:function(n,a,i){"use strict";i.r(a),i.d(a,{LandingModule:function(){return q}});var o=i(61116),r=i(65590),s=i(35366),l=i(88047),c=i(60649),u=i(33825),g=i(43752),p=i(75470),d=i(31041),f=i(27701);function h(e,t){1&e&&s._UZ(0,"mat-progress-bar",30)}function Z(e,t){1&e&&(s.TgZ(0,"p",31),s._uU(1,"Please wait is searching"),s.qZA())}function m(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"button",32),s.NdJ("click",function(e){var t=s.CHM(n).$implicit;return s.oxw(2).onClickAddress(t,e)}),s.TgZ(2,"h3"),s._uU(3),s.qZA(),s.TgZ(4,"h3"),s._uU(5),s.qZA(),s.TgZ(6,"small"),s._uU(7),s.qZA(),s.qZA(),s.qZA()}if(2&e){var a=t.$implicit;s.xp6(3),s.Oqu(null==a?null:a.name),s.xp6(2),s.AsE("",null==a?null:a.number," ",null==a?null:a.road.location.name,""),s.xp6(2),s.lnq("",null==a?null:a.road.location.parent.postcode," ",null==a?null:a.road.location.parent.name,", ",null==a?null:a.road.location.parent.parent.name,"")}}function v(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",24),s.TgZ(1,"input",25),s.NdJ("keyup",function(e){return s.CHM(n),s.oxw().onSearchKeyUp(e)}),s.qZA(),s.qZA(),s.YNc(2,h,1,0,"mat-progress-bar",26),s.TgZ(3,"div",27),s.YNc(4,Z,2,0,"p",28),s.TgZ(5,"div"),s.YNc(6,m,8,6,"div",29),s.qZA(),s.qZA()}if(2&e){var a=s.oxw();s.xp6(2),s.Q6J("ngIf",a.onKeyUp),s.xp6(2),s.Q6J("ngIf",a.onKeyUp),s.xp6(2),s.Q6J("ngForOf",a.addresses)}}document.getElementById("mapid");var k,A,b=[{path:"",component:(k=function(){function n(t,a,i,o,r){e(this,n),this.fun=t,this.translate=a,this.configService=i,this.globalService=o,this.modalService=r,this.onKeyUp=!1}var a,i,o;return a=n,(i=[{key:"ngAfterViewInit",value:function(){this.getLanguage()}},{key:"ngOnInit",value:function(){this.fun.inspinia(),this.getLanguage(),this.getMapId(),this.getCurrentLocation()}},{key:"openModal",value:function(e){this.modalRef=this.modalService.show(e)}},{key:"onSearchKeyUp",value:function(e){var t=this;"keyup"==e.type&&(this.onKeyUp=!0,this.globalService.searchQuery(e.target.value).subscribe(function(e){t.onKeyUp=!1,t.addresses=e.addresses,console.log(e)},function(e){console.log(e)}))}},{key:"getCurrentLocation",value:function(){var e=this;this.globalService.getCurrentPosition().then(function(t){console.log("Your current position is:"),console.log("Latitude : ".concat(t.coords.latitude)),console.log("Longitude: ".concat(t.coords.longitude)),console.log("More or less ".concat(t.coords.accuracy," meters.")),e.getMap(t.coords.latitude,t.coords.longitude),e.getMarkerPopups()},function(e){console.log(e)})}},{key:"onClickAddress",value:function(e,t){"click"==t.type&&(this.coordinates=e.coordinate.coordinates,this.getMap(this.coordinates[1],this.coordinates[0]),this.address=e,this.getMarkerPopups(),this.modalRef.hide())}},{key:"getMapId",value:function(){if(this.getmap=L.map("mapid"),this.getmap)return this.getMap}},{key:"getMap",value:function(e,t){var n=this.getmap.setView([e,t],13);L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery \xa9 <a href="https://openstreetmap.org">OpenStreetMap</a>',maxZoom:18,id:"mapbox.streets"}).addTo(n),this.getMarker(e,t,n)}},{key:"getMarker",value:function(e,t,n){if(this.marker=L.marker([e,t]).addTo(n),this.marker)return this.marker}},{key:"getMarkerPopups",value:function(){this.bindPopup=this.marker.bindPopup(null==this.address||null==this.address?"Mahali Ulipo":this.address.name+"<br/>"+this.address.number+" "+this.address.road.location.name+"<br/>"+this.address.road.location.parent.postcode+" "+this.address.road.location.parent.name+", "+this.address.road.location.parent.parent.name),this.bindPopup.openPopup()}},{key:"setLanguage",value:function(e){"change"===e.type&&(localStorage.setItem("lang",e.target.value),this.getLanguage())}},{key:"getLanguage",value:function(){this.getLang=localStorage.getItem("lang"),this.getLang?(this.getLang=localStorage.getItem("lang"),this.translate.use(this.getLang),"sw"==this.getLang?this.is_sw="":this.is_en=""):(this.getLang="sw",this.is_sw="")}}])&&t(a.prototype,i),o&&t(a,o),n}(),k.\u0275fac=function(e){return new(e||k)(s.Y36(l.V),s.Y36(c.sK),s.Y36(u.E),s.Y36(g.U),s.Y36(p.tT))},k.\u0275cmp=s.Xpm({type:k,selectors:[["app-landing"]],decls:55,vars:23,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light","fixed-top"],[1,"container-fluid"],["routerLink","",1,"navbar-brand"],["src","assets/img/NAPA_ROUNDED.svg","width","30","height","30","alt","",1,"d-inline-block","align-top"],["type","button","data-toggle","collapse","data-target","#napaNavBar","aria-controls","napaNavBar","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-map-marker-alt"],["id","napaNavBar",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"fas","fa-home"],[1,"fas","fa-folder"],[1,"fas","fa-address-card"],[1,"fas","fa-question-circle"],[1,"fas","fa-edit"],[1,"fas","fa-sign-in-alt"],["id","lang",1,"custom-select",3,"change"],["value","sw"],["value","en"],[1,"map_landing"],["id","mapid"],["event",""],[1,"modal-header"],["type","text","id","search","placeholder","Search...",1,"form-control",3,"keyup"],["mode","indeterminate",4,"ngIf"],[1,"modal-body"],["class","text-center",4,"ngIf"],[4,"ngFor","ngForOf"],["mode","indeterminate"],[1,"text-center"],["type","button",1,"btn","btn-default","btn-block","text-left",3,"click"]],template:function(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div"),s.TgZ(1,"div"),s.TgZ(2,"nav",0),s.TgZ(3,"div",1),s.TgZ(4,"a",2),s._UZ(5,"img",3),s._uU(6," NaPA "),s.qZA(),s.TgZ(7,"button",4),s._UZ(8,"span",5),s.qZA(),s.TgZ(9,"button",6),s.NdJ("click",function(){s.CHM(n);var e=s.MAs(54);return t.openModal(e)}),s._UZ(10,"i",7),s._uU(11),s.ALo(12,"translate"),s.qZA(),s.TgZ(13,"div",8),s.TgZ(14,"ul",9),s.TgZ(15,"li",10),s.TgZ(16,"a",11),s.NdJ("click",function(e){return t.configService.onClick("/",e)}),s._UZ(17,"i",12),s._uU(18),s.ALo(19,"translate"),s.qZA(),s.qZA(),s.TgZ(20,"li",10),s.TgZ(21,"a",11),s.NdJ("click",function(e){return t.configService.onClick("/about_us",e)}),s._UZ(22,"i",13),s._uU(23),s.ALo(24,"translate"),s.qZA(),s.qZA(),s.TgZ(25,"li",10),s.TgZ(26,"a",11),s.NdJ("click",function(e){return t.configService.onClick("/contact",e)}),s._UZ(27,"i",14),s._uU(28),s.ALo(29,"translate"),s.qZA(),s.qZA(),s.TgZ(30,"li",10),s.TgZ(31,"a",11),s.NdJ("click",function(e){return t.configService.onClick("/fq",e)}),s._UZ(32,"i",15),s._uU(33),s.ALo(34,"translate"),s.qZA(),s.qZA(),s.TgZ(35,"li",10),s.TgZ(36,"a",11),s.NdJ("click",function(e){return t.configService.onClick("/information_registration_form",e)}),s._UZ(37,"i",16),s._uU(38),s.ALo(39,"translate"),s.qZA(),s.qZA(),s.TgZ(40,"li",10),s.TgZ(41,"a",11),s.NdJ("click",function(e){return t.configService.onClick("/login",e)}),s._UZ(42,"i",17),s._uU(43),s.ALo(44,"translate"),s.qZA(),s.qZA(),s.TgZ(45,"li",10),s.TgZ(46,"select",18),s.NdJ("change",function(e){return t.setLanguage(e)}),s.TgZ(47,"option",19),s._uU(48,"Swahili"),s.qZA(),s.TgZ(49,"option",20),s._uU(50,"English"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(51,"div",21),s._UZ(52,"div",22),s.qZA(),s.qZA(),s.YNc(53,v,7,3,"ng-template",null,23,s.W1O)}2&e&&(s.xp6(11),s.hij("\xa0",s.lcZ(12,9,"search_location"),""),s.xp6(7),s.hij("\xa0",s.lcZ(19,11,"home"),""),s.xp6(5),s.hij("\xa0",s.lcZ(24,13,"about"),""),s.xp6(5),s.hij("\xa0",s.lcZ(29,15,"contact_us"),""),s.xp6(5),s.hij("\xa0",s.lcZ(34,17,"faq"),""),s.xp6(5),s.hij("\xa0",s.lcZ(39,19,"information_registration_form"),""),s.xp6(5),s.hij("\xa0",s.lcZ(44,21,"login"),""),s.xp6(4),s.uIk("selected",t.is_sw),s.xp6(2),s.uIk("selected",t.is_en))},directives:[r.yS,d.YN,d.Kr,o.O5,o.sg,f.pW],pipes:[c.X$],styles:["#mapid[_ngcontent-%COMP%]{height:95vh}"]}),k)}],y=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[r.Bz.forChild(b)],r.Bz]}),t}(),_=i(56594),q=((A=function t(){e(this,t)}).\u0275fac=function(e){return new(e||A)},A.\u0275mod=s.oAB({type:A}),A.\u0275inj=s.cJS({imports:[[o.ez,y,_.m]]}),A)}}])}();